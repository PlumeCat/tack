"Basic test of multiple Tack stacks, "

print(fn() { return 4 }())


export let counter = 0

export fn ping4() {
    counter = counter + 1
    print("ping 4")
}
export fn ping3() {
    counter = counter + 1
    print("ping 3")
    pong(ping4)
}
export fn ping2() {
    counter = counter + 1
    print("ping 2")
    pong(ping3)
}
export fn ping1() {
    counter = counter + 1
    print("ping")
    pong(ping2)
}


export fn foo(a, b, c) {
    print([ a, b, c ], a + b + c)
    return a + b + c
}

ping1()

print(fn() { return [ 1, 2 ] }())


print("end pingpong")


print("end array")