let map = fn (f, a) {
    let i = 0
    let n = #a  "hashtag operator to get array length, lua style"
    let r = []
    while i < n {
        r << f(a[i]) "shift-left to append to end of array"
        i = i + 1
    }
    return r
}

let x = [ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 ]
let y = map(fn(a) { return a * a }, x)

print(y[0])
print(y[1])
print(y[2])
print(y[3])