fn map(array, func) {
    const result = []
    const  n = #array
    let i = 0
    while i < n {
        result << func(array[i])
        i = i + 1
    }
    return result
}


const foo = []
foo << 1
foo << 2
foo << 3
print(foo[4])
const bar = map(foo, fn(x) { return x * 2 })
print(bar)